---
title: "Make index files for training set"
author: "Frederick J. Boehm"
date: "4/6/2022"
output: html_document
---

The goal is to create, for every cross-pheno combination, a file containing 
the indices of subjects that belong to the training set. We'll use the phenotype files 
that Sheng Yang created for his study of UKB traits.

```{r}
phe_num <- 1
cross_num <- 1
filename <- paste0("/net/mulan/disk2/yasheng/comparisonProject/02_pheno/02_train_c/pheno_pheno", phe_num, ".txt")
dat <- readr::read_table(filename, col_names = FALSE)[, cross_num]
indices <- which(!is.na(dat$X1))
# write output
training_indices_filename <- paste0("~/research/ukb-intervals/training_index_files/pheno_", phe_num, "_cross_", cross_num, ".txt")
readr::write_delim(x = tibble::tibble(x = indices, y = indices), file = training_indices_filename, col_names = FALSE)

## Compare with test indices
test_indices_filename <- paste0("/net/mulan/disk2/yasheng/comparisonProject/02_pheno/01_test_idx_c/idx_pheno", phe_num, "_cross", cross_num, ".txt")
test_indices <- readr::read_table(test_indices_filename, col_names = FALSE)
intersect(test_indices, indices)
```

